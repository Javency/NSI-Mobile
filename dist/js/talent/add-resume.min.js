function autoAddZero(e){return""==e?0:e}function checkName(){""==$("#Name").val()?($(".hasError").eq(0).addClass("has-error"),$(".hasError:eq(0) span").removeClass("hide"),$(".NameCheck").text("*姓名不能为空"),$(".NameCheck").css("color","red"),checkNameResult=!1):($(".NameCheck").text(""),$(".hasError").eq(0).removeClass("has-error"),$(".hasError:eq(0) span").addClass("hide"),checkNameResult=!0)}function checkPhone(){""==$("#Phone").val()?($(".hasError").eq(2).addClass("has-error"),$(".hasError:eq(2) span").removeClass("hide"),$(".PhoneCheck").text("*电话号码不能为空"),$(".PhoneCheck").css("color","red"),checkPhoneResult=!1):($(".PhoneCheck").text(""),$(".hasError").eq(2).removeClass("has-error"),$(".hasError:eq(2) span").addClass("hide"),checkPhoneResult=!0)}function checkMail(){""==$("#Mail").val()?($(".hasError").eq(3).addClass("has-error"),$(".hasError:eq(3) span").removeClass("hide"),$(".MailCheck").text("*邮箱不能为空"),$(".MailCheck").css("color","red"),checkMailResult=!1):($(".MailCheck").text(""),$(".hasError").eq(3).removeClass("has-error"),$(".hasError:eq(3) span").addClass("hide"),checkMailResult=!0)}function checkMajor(){""==$("#Major").val()?($(".hasError").eq(5).addClass("has-error"),$(".hasError:eq(5) span").removeClass("hide"),$(".MajorCheck").text("*专业不能为空"),$(".MajorCheck").css("color","red"),checkMajorResult=!1):($(".MajorCheck").text(""),$(".hasError").eq(5).removeClass("has-error"),$(".hasError:eq(5) span").addClass("hide"),checkMajorResult=!0)}function checkNowWorkplace(){""==$("#NowWorkplace").val()?($(".hasError").eq(6).addClass("has-error"),$(".hasError:eq(6) span").removeClass("hide"),$(".NowWorkplaceCheck").text("*工作单位不能为空"),$(".NowWorkplaceCheck").css("color","red"),checkNowWorkplaceResult=!1):($(".NowWorkplaceCheck").text(""),$(".hasError").eq(6).removeClass("has-error"),$(".hasError:eq(6) span").addClass("hide"),checkNowWorkplaceResult=!0)}function checkWorkYear(){var e=/^[1-9]\d*$/,a=$("#WorkYear").val();e.test(a)?($(".WorkYearCheck").text(""),$(".WorkYearCheck").css("color","#999"),$(".hasError").eq(7).removeClass("has-error"),$(".hasError:eq(7) span").addClass("hide"),checkWorkYearResult=!0):($(".hasError").eq(7).addClass("has-error"),$(".hasError:eq(7) span").removeClass("hide"),$(".WorkYearCheck").text("*必须为整数"),$(".WorkYearCheck").css("color","red"),checkWorkYearResult=!1)}function formSubmit(){checkName(),checkPhone(),checkMail(),checkMajor(),checkNowWorkplace(),checkWorkYear();var e=$("#Sex input:radio:checked").val(),a=$("#Public input:radio:checked").val(),r=$.cookie("username");if(1==checkNameResult&&1==checkPhoneResult&&1==checkMailResult&&1==checkMajorResult&&1==checkNowWorkplaceResult&&1==checkWorkYearResult){var o={Name:autoAddZero($("#Name").val()),Sex:e,Phone:autoAddZero($("#Phone").val()),Mail:autoAddZero($("#Mail").val()),Education:autoAddZero($("#Education").val()),Major:autoAddZero($("#Major").val()),NowWorkplace:autoAddZero($("#NowWorkplace").val()),WorkYear:autoAddZero($("#WorkYear").val()),ExpectWorkPlace:autoAddZero($("#ExpectWorkPlace").val()),ExpectWorkPosition:autoAddZero($("#ExpectWorkPosition").val()),ExpectSalary:autoAddZero($("#ExpectSalary").val()),Other:autoAddZero($("#Other").val()),WorkExperience:autoAddZero($("#WorkExperience").val()),EducationBackground:autoAddZero($("#EducationBackground").val()),TrainingBackground:autoAddZero($("#TrainingBackground").val()),Public:a,UserMail:r};$.ajax({type:"get",async:!1,traditional:!0,data:o,url:"http://"+changeUrl.address+"/talent_api?whereFrom=insert",dataType:"jsonp",jsonp:"Callback",beforeSend:function(){$("#insertSubmit").text("提交数据中..."),$("#insertSubmit").addClass("disabled"),$("#insertSubmit").attr("onclick","javascript:void();")},success:function(e){console.log(e),1==e.msg&&(alert("简历提交成功！可在用户中心查看。"),window.location.href="../user/userinfo.html")},error:function(){alert("网络繁忙，请稍后再试！"),$("#insertSubmit").text("立即提交"),$("#insertSubmit").removeClass("disabled"),$("#insertSubmit").attr("onclick","formSubmit();")}})}else alert("数据格式有误，请重新输入")}var checkNameResult=null,checkPhoneResult=null,checkMailResult=null,checkMajorResult=null,checkNowWorkplaceResult=null,checkWorkYearResult=null;$("#toNextStep02").click(function(){checkName(),checkPhone(),checkMail(),checkMajor(),checkNowWorkplace(),checkWorkYear(),1==checkNameResult&&1==checkPhoneResult&&1==checkMailResult&&1==checkMajorResult&&1==checkNowWorkplaceResult&&1==checkWorkYearResult&&($("#step01").addClass("hide"),$("#step02").removeClass("hide"),$("#num01").removeClass("active"),$("#num02").addClass("active"))}),$("#toPrevStep01").click(function(){$("#step02").addClass("hide"),$("#step01").removeClass("hide"),$("#num02").removeClass("active"),$("#num01").addClass("active")}),$("#toNextStep03").click(function(){$("#step02").addClass("hide"),$("#step03").removeClass("hide"),$("#num02").removeClass("active"),$("#num03").addClass("active")}),$("#toPrevStep02").click(function(){$("#step03").addClass("hide"),$("#step02").removeClass("hide"),$("#num03").removeClass("active"),$("#num02").addClass("active")});