function checkSchoolName(){""==$("#School_name").val()?($(".hasError01").eq(0).addClass("has-error"),$(".hasError01:eq(0) span").removeClass("hide"),$(".SchoolNameCheck").text("*学校名不能为空"),$(".SchoolNameCheck").css("color","red"),checkSchoolNameResult=!1):($(".SchoolNameCheck").text("*学校名不能为空"),$(".hasError01").eq(0).removeClass("has-error"),$(".hasError01:eq(0) span").addClass("hide"),$(".SchoolNameCheck").css("color","#999"),checkSchoolNameResult=!0)}function checkRepeatSchool(){var e=$("#School_name").val();$.ajax({url:"http://"+changeUrl.address+"/School_api?whereFrom=Check_SchoolName",type:"post",dataType:"jsonp",jsonp:"Callback",async:!0,data:{SchoolName:e},success:function(e){console.log(e),1==e.msg?($(".popover-content:eq(0)").css("color","#999"),$(".hasError01:eq(0)").popover("hide"),checkRepeatSchoolResult=!0):($(".popover-content:eq(0)").css("color","red"),$(".hasError01:eq(0)").popover("show"),checkRepeatSchoolResult=!1)},error:function(){alert("发生错误，请求数据失败！")}})}function checkAddress(){""==$("#selProvince").val()||""==$("#selCity").val()||""==$("#Areas03").val()?($(".addressCheck").text("*请完善地址信息"),$(".addressCheck").css("color","red"),$(".errColor").css("color","#a94442"),checkAddressResult=!1):($(".addressCheck").text("注意：地址不能为空"),$(".addressCheck").css("color","#999"),$(".errColor").css("color","#333"),checkAddressResult=!0)}function checkFoundTime(){var e=/^$|^\d{4}$/,r=$("#Founded_time").val();e.test(r)?($(".foundTimeCheck").text("例如：2017，不添加月份"),$(".foundTimeCheck").css("color","#999"),$(".hasError01").eq(4).removeClass("has-error"),$(".hasError:eq(4) span").addClass("hide"),checkFoundTimeResult=!0):($(".hasError01").eq(4).addClass("has-error"),$(".hasError:eq(4) span").removeClass("hide"),$(".foundTimeCheck").text("*必须为4位整数"),$(".foundTimeCheck").css("color","red"),checkFoundTimeResult=!1)}function checkSchoolSystem(){""==$("#School_system").val()?($(".hasError01").eq(6).addClass("has-error"),$(".hasError:eq(6) span").removeClass("hide"),$(".schoolSystemCheck").text("*学制不能为空"),$(".schoolSystemCheck").css("color","red"),checkSchoolSystemResult=!1):($(".schoolSystemCheck").text(""),$(".hasError01").eq(6).removeClass("has-error"),$(".hasError01:eq(6) span").addClass("hide"),checkSchoolSystemResult=!0)}function checkIntCourse(){var e=/^$|^\d{4}$/,r=$("#Inter_Course_Founded_time").val();e.test(r)?($(".intnCourseCheck").text("例如：2017，不添加月份"),$(".intnCourseCheck").css("color","#999"),$(".hasError02").eq(0).removeClass("has-error"),$(".hasError02:eq(0) span").addClass("hide"),checkIntCourseResult=!0):($(".hasError02").eq(0).addClass("has-error"),$(".hasError02:eq(0) span").removeClass("hide"),$(".intnCourseCheck").text("必须为4位整数"),$(".intnCourseCheck").css("color","red"),checkIntCourseResult=!1)}function checkCourse(){""==$("#Course").val()?($(".hasError02").eq(1).addClass("has-error"),$(".hasError02:eq(1) span").removeClass("hide"),$(".courseCheck").text("*国际课程不能为空"),$(".courseCheck").css("color","red"),checkCourseResult=!1):($(".courseCheck").text(""),$(".hasError02").eq(1).removeClass("has-error"),$(".hasError02:eq(1) span").addClass("hide"),checkCourseResult=!0)}function checkStudentNum(){var e=/^$|^[1-9]\d*$/,r=$("#Student_Num_All").val();e.test(r)?($(".studentNumCheck").text("注意：需要为整数，例如：1000"),$(".studentNumCheck").css("color","#999"),$(".hasError03").eq(1).removeClass("has-error"),$(".hasError03:eq(1) span").addClass("hide"),checkStudentNumResult=!0):($(".hasError03").eq(1).addClass("has-error"),$(".hasError03:eq(1) span").removeClass("hide"),$(".studentNumCheck").text("*需要为整数"),$(".studentNumCheck").css("color","red"),checkStudentNumResult=!1)}function checkStuCapacity(){var e=/^$|^[1-9]\d*$/,r=$("#Student_Capacity").val();e.test(r)?($(".stuCapacityCheck").text("注意：需要为整数，例如：1000"),$(".stuCapacityCheck").css("color","#999"),$(".hasError03").eq(15).removeClass("has-error"),$(".hasError03:eq(15) span").addClass("hide"),checkStuCapacityResult=!0):($(".hasError03").eq(2).addClass("has-error"),$(".hasError03:eq(2) span").removeClass("hide"),$(".stuCapacityCheck").text("*需要为整数"),$(".stuCapacityCheck").css("color","red"),checkStuCapacityResult=!1)}function checkGraduatedStuNum(){var e=/^$|^[1-9]\d*$/,r=$("#Graduated_Stu_Num").val();e.test(r)?($(".graduateStuCheck").text("注意：需要为整数，例如：1000"),$(".graduateStuCheck").css("color","#999"),$(".hasError03").eq(3).removeClass("has-error"),$(".hasError03:eq(3) span").addClass("hide"),checkGraduateStuResult=!0):($(".hasError03").eq(3).addClass("has-error"),$(".hasError03:eq(3) span").removeClass("hide"),$(".graduateStuCheck").text("*需要为整数"),$(".graduateStuCheck").css("color","red"),checkGraduateStuResult=!1)}function checkFloat(e,r,a){var o=/^$|^(-?\d+)(\.\d+)?$/,s=$(e).val();o.test(s)?($(r).text("注意：需要为数字"),$(r).css("color","#999"),$(".hasError").eq(a).removeClass("has-error"),$(".hasError:eq("+a+") span").addClass("hide"),checkFloatResult=!0):($(".hasError03").eq(a).addClass("has-error"),$(".hasError03:eq("+a+") span").removeClass("hide"),$(r).text("*必须为数字"),$(r).css("color","red"),checkFloatResult=!1)}function checkStaffNum(){var e=/^$|^[1-9]\d*$/,r=$("#Staff_Num").val();e.test(r)?($(".staffNumCheck").text("注意：需要为整数，例如：1000"),$(".staffNumCheck").css("color","#999"),$(".hasError04").eq(1).removeClass("has-error"),$(".hasError04:eq(1) span").addClass("hide"),checkStaffNumResult=!0):($(".hasError04").eq(1).addClass("has-error"),$(".hasError04:eq(1) span").removeClass("hide"),$(".staffNumCheck").text("*必须为整数"),$(".staffNumCheck").css("color","red"),checkStaffNumResult=!1)}function checkTeacherNum(){var e=/^$|^[1-9]\d*$/,r=$("#Teacher_Num").val();e.test(r)?($(".teacherNumCheck").text("注意：需要为整数，例如：1000"),$(".teacherNumCheck").css("color","#999"),$(".hasError04").eq(2).removeClass("has-error"),$(".hasError04:eq(2) span").addClass("hide"),checkTeacherNumResult=!0):($(".hasError04").eq(2).addClass("has-error"),$(".hasError04:eq(2) span").removeClass("hide"),$(".teacherNumCheck").text("*必须为整数"),$(".teacherNumCheck").css("color","red"),checkTeacherNumResult=!1)}function checkForeignTeacherNum(){var e=/^$|^[1-9]\d*$/,r=$("#Foreign_Teacher_num").val();e.test(r)?($(".foreignTeacherCheck").text("注意：需要为整数，例如：1000"),$(".foreignTeacherCheck").css("color","#999"),$(".hasError04").eq(3).removeClass("has-error"),$(".hasError04:eq(3) span").addClass("hide"),checkForeignTeacherResult=!0):($(".hasError04").eq(3).addClass("has-error"),$(".hasError04:eq(3) span").removeClass("hide"),$(".foreignTeacherCheck").text("*必须为整数"),$(".foreignTeacherCheck").css("color","red"),checkForeignTeacherResult=!1)}function checkMuMeter(){var e=/^$|^(-?\d+)(\.\d+)?$/,r=$("#Covered_Area").val();e.test(r)?($(".hasError05").eq(0).removeClass("has-error"),$(".hasError05:eq(0) span").addClass("hide"),$(".hasError05:eq(0)").popover("hide"),$(".popover-content").css("color","#999"),checkMuMeterResult=!0):($(".hasError05").eq(0).addClass("has-error"),$(".hasError05:eq(0) span").removeClass("hide"),$(".popover-content").css("color","red"),$(".hasError05:eq(0)").popover("show"),checkMuMeterResult=!1)}function checkBuiltArea(){var e=/^$|^(-?\d+)(\.\d+)?$/,r=$("#Built_Area").val();e.test(r)?($(".teacherNumCheck").text("注意：需要为整数，例如：1000"),$(".teacherNumCheck").css("color","#999"),$(".hasError05").eq(1).removeClass("has-error"),$(".hasError05:eq(1) span").addClass("hide"),checkBuiltAreaResult=!0):($(".hasError05").eq(1).addClass("has-error"),$(".hasError05:eq(1) span").removeClass("hide"),$(".builtAreaCheck").text("*必须为数字"),$(".builtAreaCheck").css("color","red"),checkBuiltAreaResult=!1)}function autoAddZero(e){return""==e?0:e}function formSubmit(){if(checkMuMeter(),checkBuiltArea(),1==checkMuMeterResult&&1==checkBuiltAreaResult){var e={School_name:autoAddZero($("#School_name").val()),School_EnglishName:autoAddZero($("#School_EnglishName").val()),School_properties:autoAddZero($("#School_properties").val()),Areas:autoAddZero($("#selProvince").val()),Areas02:autoAddZero($("#selCity").val()),Areas03:autoAddZero($("#Areas03").val()),Founded_time:autoAddZero($("#Founded_time").val()),OperationState:autoAddZero($("#OperationState").val()),School_system:autoAddZero($("#School_system").val()),Tuition01:autoAddZero($("#Tuition01").val()),Tuition02:autoAddZero($("#Tuition02").val()),Tuition03:autoAddZero($("#Tuition03").val()),Tuition04:autoAddZero($("#Tuition04").val()),TuitionHigh:autoAddZero($("#TuitionHigh").val()),Website:autoAddZero($("#Website").val()),Telephone:autoAddZero($("#Telephone").val()),Inter_Course_Founded_time:autoAddZero($("#Inter_Course_Founded_time").val()),Course:autoAddZero($("#Course").val()),Authentication:autoAddZero($("#Authentication").val()),Course_evaluation:autoAddZero($("#Course_evaluation").val()),Student_Num01:autoAddZero($("#Student_Num01").val()),Student_Num02:autoAddZero($("#Student_Num02").val()),Student_Num03:autoAddZero($("#Student_Num03").val()),Student_Num04:autoAddZero($("#Student_Num04").val()),Student_Num_All:autoAddZero($("#Student_Num_All").val()),Student_Capacity:autoAddZero($("#Student_Capacity").val()),Graduated_Stu_Num:autoAddZero($("#Graduated_Stu_Num").val()),Stu_Dominant_nationality:autoAddZero($("#Stu_Dominant_nationality").val()),Stu_Year_Investment:autoAddZero($("#Stu_Year_Investment").val()),Club_Num:autoAddZero($("#Club_Num").val()),President_Country:autoAddZero($("#President_Country").val()),Staff_Num:autoAddZero($("#Staff_Num").val()),Teacher_Num:autoAddZero($("#Teacher_Num").val()),Foreign_Teacher_num:autoAddZero($("#Foreign_Teacher_num").val()),Teacher_Year_Investment:autoAddZero($("#Teacher_Year_Investment").val()),Teacher_Retention:autoAddZero($("#Teacher_Retention").val()),Teacher_Salary:autoAddZero($("#Teacher_Salary").val()),Teacher_Stu_ratio:autoAddZero($("#Teacher_Stu_ratio").val()),Covered_Area:autoAddZero($("#Covered_Area").val()),Built_Area:autoAddZero($("#Built_Area").val()),Hardware:autoAddZero($("#Hardware").val()),Investment:autoAddZero($("#Investment").val()),Remark:autoAddZero($("#Remark").val()),Load_People:$.cookie("username"),member_sign:$.cookie("usertitle")};$.ajax({type:"get",async:!1,traditional:!0,data:e,url:"http://"+changeUrl.address+"/School_api?whereFrom=insert",dataType:"jsonp",jsonp:"Callback",beforeSend:function(){$("#insertSubmit").text("提交数据中..."),$("#insertSubmit").addClass("disabled"),$("#insertSubmit").attr("onclick","javascript:void();")},success:function(e){console.log(e),1==e.msg?(alert("恭喜！数据提交成功"),$("#insertSubmit").text("立即提交"),$("#insertSubmit").removeClass("disabled")):($("#insertSubmit").text("立即提交"),$("#insertSubmit").removeClass("disabled"),$("#insertSubmit").attr("onclick","formSubmit();"))},error:function(){alert("网络繁忙，请稍后再试！"),$("#insertSubmit").text("立即提交"),$("#insertSubmit").removeClass("disabled"),$("#insertSubmit").attr("onclick","formSubmit();")}})}else alert("数据格式错误，请重新输入"),$("html,body").animate({scrollTop:0},300)}var checkSchoolNameResult=null,checkRepeatSchoolResult=null,checkAddressResult=null,checkFoundTimeResult=null,checkSchoolSystemResult=null;$("#nextStep01").click(function(){checkSchoolName(),checkRepeatSchool(),checkAddress(),checkFoundTime(),checkSchoolSystem(),1==checkSchoolNameResult&&1==checkRepeatSchoolResult&&1==checkAddressResult&&1==checkFoundTimeResult&&1==checkSchoolSystemResult?($("#baseInfo").addClass("hide"),$("#courseInfo").removeClass("hide"),$("html,body").animate({scrollTop:0},300),$("#round01").removeClass("roundActive"),$("#round02").addClass("roundActive"),$(this).addClass("hide"),$("#nextStep02").removeClass("hide")):(alert("数据格式错误，请重新输入"),$("html,body").animate({scrollTop:0},300))});var checkIntCourseResult=null,checkCourseResult=null;$("#nextStep02").click(function(){checkIntCourse(),checkCourse(),1==checkIntCourseResult&&1==checkCourseResult?($("#courseInfo").addClass("hide"),$("#stuInfo").removeClass("hide"),$("html,body").animate({scrollTop:0},300),$("#round02").removeClass("roundActive"),$("#round03").addClass("roundActive"),$(this).addClass("hide"),$("#nextStep03").removeClass("hide")):(alert("数据格式错误，请重新输入"),$("html,body").animate({scrollTop:0},300))});var checkStudentNumResult=null,checkStuCapacityResult=null,checkGraduateStuResult=null,checkFloatResult=null;$("#nextStep03").click(function(){checkStudentNum(),checkStuCapacity(),checkGraduatedStuNum(),checkFloat("#Club_Num",".clubNumCheck",6),1==checkIntCourseResult&&1==checkCourseResult&&1==checkGraduateStuResult&&1==checkFloatResult?(checkFloat("#Club_Num",".clubNumCheck",6),$("#stuInfo").addClass("hide"),$("#teacherInfo").removeClass("hide"),$("html,body").animate({scrollTop:0},300),$("#round03").removeClass("roundActive"),$("#round04").addClass("roundActive"),$(this).addClass("hide"),$("#nextStep04").removeClass("hide")):(alert("数据格式错误，请重新输入"),$("html,body").animate({scrollTop:0},300))});var checkStaffNumResult=null,checkTeacherNumResult=null,checkForeignTeacherResult=null;$("#nextStep04").click(function(){checkStaffNum(),checkTeacherNum(),checkForeignTeacherNum(),1==checkStaffNumResult&&1==checkTeacherNumResult&&1==checkForeignTeacherResult?($("#teacherInfo").addClass("hide"),$("#otherInfo").removeClass("hide"),$("html,body").animate({scrollTop:0},300),$("#round04").removeClass("roundActive"),$("#round05").addClass("roundActive"),$(this).addClass("hide"),$("#readySubmit").removeClass("hide")):(alert("数据格式错误，请重新输入"),$("html,body").animate({scrollTop:0},300))});var checkMuMeterResult=null,checkBuiltAreaResult=null;$("#Covered_Area").focus(function(){$(".popover-content").css("color","#999"),$(".hasError05:eq(0)").popover("show")});