function autoAddZero(e){return""==e?0:e}function checkSubjectName(){""==$("#SubjectName").val()?($(".hasError").eq(0).addClass("has-error"),$(".hasError:eq(0) span").removeClass("hide"),$(".SubjectNameCheck").text("*项目不能为空"),$(".SubjectNameCheck").css("color","red"),checkSubjectNameResult=!1):($(".SubjectNameCheck").text(""),$(".hasError").eq(0).removeClass("has-error"),$(".hasError:eq(0) span").addClass("hide"),checkSubjectNameResult=!0)}function checkCompany(){""==$("#Company").val()?($(".hasError").eq(2).addClass("has-error"),$(".hasError:eq(2) span").removeClass("hide"),$(".CompanyCheck").text("*发布单位不能为空"),$(".CompanyCheck").css("color","red"),checkCompanyResult=!1):($(".CompanyCheck").text(""),$(".hasError").eq(2).removeClass("has-error"),$(".hasError:eq(2) span").addClass("hide"),checkCompanyResult=!0)}function checkName(){""==$("#Name").val()?($(".hasError").eq(4).addClass("has-error"),$(".hasError:eq(4) span").removeClass("hide"),$(".NameCheck").text("*联系人不能为空"),$(".NameCheck").css("color","red"),checkNameResult=!1):($(".NameCheck").text(""),$(".hasError").eq(4).removeClass("has-error"),$(".hasError:eq(4) span").addClass("hide"),checkNameResult=!0)}function checkPhone(){""==$("#Phone").val()?($(".hasError").eq(5).addClass("has-error"),$(".hasError:eq(5) span").removeClass("hide"),$(".PhoneCheck").text("*电话不能为空"),$(".PhoneCheck").css("color","red"),checkPhoneResult=!1):($(".PhoneCheck").text(""),$(".hasError").eq(5).removeClass("has-error"),$(".hasError:eq(5) span").addClass("hide"),checkPhoneResult=!0)}function checkMail(){""==$("#Mail").val()?($(".hasError").eq(6).addClass("has-error"),$(".hasError:eq(6) span").removeClass("hide"),$(".MailCheck").text("邮箱不能为空"),$(".MailCheck").css("color","red"),checkMailResult=!1):($(".MailCheck").text(""),$(".hasError").eq(6).removeClass("has-error"),$(".hasError:eq(6) span").addClass("hide"),checkMailResult=!0)}function checkSubjectIntroduction(){""==$("#SubjectIntroduction").val()?($(".hasError").eq(7).addClass("has-error"),$(".hasError:eq(7) span").removeClass("hide"),$(".SubjectIntroductionCheck").text("*项目简介不能为空"),$(".SubjectIntroductionCheck").css("color","red"),checkSubjectIntroductionResult=!1):($(".SubjectIntroductionCheck").text(""),$(".hasError").eq(7).removeClass("has-error"),$(".hasError:eq(7) span").addClass("hide"),checkSubjectIntroductionResult=!0)}function projectFormSubmit(){checkSubjectName(),checkCompany(),checkName(),checkPhone(),checkMail(),checkSubjectIntroduction();var e=$.cookie("username");if(1==checkSubjectNameResult&&1==checkCompanyResult&&1==checkNameResult&&1==checkPhoneResult&&1==checkMailResult&&1==checkSubjectIntroductionResult){var r={SubjectName:autoAddZero($("#SubjectName").val()),Areas:autoAddZero($("#selProvince").val()),Areas02:autoAddZero($("#selCity").val()),Areas03:autoAddZero($("#Areas03").val()),Company:autoAddZero($("#Company").val()),SubjectLabel:autoAddZero($("#SubjectLabel").val()),Name:autoAddZero($("#Name").val()),Phone:autoAddZero($("#Phone").val()),Mail:autoAddZero($("#Mail").val()),SubjectIntroduction:autoAddZero($("#SubjectIntroduction").val()),DetailInstitution:autoAddZero($("#DetailInstitution").val()),Requirement:autoAddZero($("#Requirement").val()),UserMail:e};$.ajax({type:"get",async:!1,traditional:!0,data:r,url:"http://"+changeUrl.address+"/Subject_api?whereFrom=insert",dataType:"jsonp",jsonp:"Callback",beforeSend:function(){$("#insertSubmit").text("提交数据中..."),$("#insertSubmit").addClass("disabled"),$("#insertSubmit").attr("onclick","javascript:void();")},success:function(e){console.log(e),1==e.msg?(alert("您的信息已提交至新学说项目库，建议上传详细项目附件。检索功能随后上线"),$("#insertSubmit").text("立即提交"),$("#insertSubmit").removeClass("disabled")):($("#insertSubmit").text("立即提交"),$("#insertSubmit").removeClass("disabled"),$("#insertSubmit").attr("onclick","projectFormSubmit();"))},error:function(){alert("网络繁忙，请稍后再试！"),$("#insertSubmit").text("立即提交"),$("#insertSubmit").removeClass("disabled"),$("#insertSubmit").attr("onclick","projectFormSubmit();")}})}else alert("数据格式有误，请重新输入")}var checkSubjectNameResult=null,checkCompanyResult=null,checkNameResult=null,checkPhoneResult=null,checkMailResult=null,checkSubjectIntroductionResult=null;